!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(s).concat([i]).join("\n")}var o;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(i=0;i<t.length;i++){var o=t[i];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){var r,i,s={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),h=null,c=0,d=[],l=n(7);function u(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=s[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(b(r.parts[o],e))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(b(r.parts[o],e));s[r.id]={id:r.id,refs:1,parts:a}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var s=t[i],o=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};r[o]?r[o].parts.push(a):n.push(r[o]={id:o,parts:[a]})}return n}function m(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,n);n.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function f(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return v(e,t.attrs),m(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,r,i,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var o=c++;n=h||(h=f(e)),r=x.bind(null,n,o,!1),i=x.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),m(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||s)&&(r=l(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,n,e),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return u(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var o=n[i];(a=s[o.id]).refs--,r.push(a)}t&&u(p(t,e),e);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete s[a.id]}}}};var k,w=(k=[],function(t,e){return k[t]=e,k.filter(Boolean).join("\n")});function x(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var s=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}},function(t,e,n){t.exports=n(19)},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1);var r=n(5)(n(6));e.push([t.i,"\r\nbody {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n\r\n.sky {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: rgb(5, 5, 5);\r\n}\r\n\r\n.moon {\r\n  position: absolute;\r\n  left: 60px;\r\n  top: 45px;\r\n  -ms-transform: rotate(-20deg);\r\n  -webkit-transform: rotate(-20deg);\r\n  -o-transform: rotate(-20deg);\r\n  -moz-transform: rotate(-20deg);\r\n  transform: rotate(-20deg);\r\n}\r\n\r\n#moonCanvas {\r\n  position: absolute;\r\n  top: 400px;\r\n  width: 400px;\r\n  height: 400px;\r\n}\r\n\r\n.littlePrince {\r\n  position: absolute;\r\n  top: 275px;\r\n  left: 650px;\r\n}\r\n\r\n.prince {\r\n  position: absolute;\r\n  left: 600px;\r\n  top: -150px;\r\n}\r\n\r\n.shadeCanvas {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.85);\r\n}\r\n\r\n.canvasContainer {\r\n  position: relative;\r\n  width: 1500px;\r\n  height: 900px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: url("+r+");\r\n}\r\n\r\n.draftBookOpen {\r\n  position: absolute;\r\n  bottom: 35px;\r\n  left: 20px;\r\n  background: transparent;\r\n  border: transparent;\r\n  outline: none;\r\n}\r\n\r\n.invisible {\r\n  visibility: hidden;\r\n}",""])},function(t,e,n){"use strict";t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){t.exports=n.p+"src/image/book.png"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:r+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var r=n(9);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"\r\n.star {\r\n  position: absolute;\r\n}\r\n\r\n.star1 {\r\n  top: 80px;\r\n  left: 1800px;\r\n  transform: scale(0.9);\r\n}\r\n\r\n.star2 {\r\n  top: 110px;\r\n  left: 900px;\r\n  transform: scale(0.8);\r\n}\r\n\r\n.star3 {\r\n  top: 50px;\r\n  left: 600px;\r\n  transform: scale(0.5);\r\n}\r\n\r\n.star4 {\r\n  top: 425px;\r\n  left: 440px;\r\n}\r\n\r\n.star5 {\r\n  top: 220px;\r\n  left: 1500px;\r\n  transform: scale(0.6);\r\n}",""])},function(t,e,n){var r=n(11);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".pigment {\r\n  position: absolute;\r\n}\r\n\r\n.pig1 {\r\n  top: -200px;\r\n  left: 300px;\r\n}\r\n\r\n.pig2 {\r\n  top: 550px;\r\n  left: 1000px;\r\n}\r\n\r\n.pig3 {\r\n  top: 750px;\r\n  left: 150px;\r\n}\r\n\r\n.pig4 {\r\n  top: -150px;\r\n  left: 400px;\r\n}\r\n\r\n.pig5 {\r\n  top: -90px;\r\n  left: 580px;\r\n}\r\n\r\n.pig6 {\r\n  top: 50px;\r\n  left: 710px;\r\n}\r\n\r\n.pig7 {\r\n  top: 225px;\r\n  left: 750px;\r\n}\r\n\r\n.pig8 { \r\n  top: 400px;\r\n  left: 710px; /* green */\r\n}\r\n\r\n.pig9 { \r\n  top: 520px;\r\n  left: 580px; /* springgreen */\r\n}\r\n\r\n.pig10 {\r\n  top: 575px;\r\n  left: 400px;\r\n}\r\n\r\n.pig11 {\r\n  top: 520px;\r\n  left: 225px;\r\n}\r\n\r\n.pig12 {\r\n  top: 400px;\r\n  left: 100px;\r\n}\r\n\r\n.pig13 {\r\n  top: 225px;\r\n  left: 50px;\r\n}\r\n\r\n.pig14 {\r\n  top: 50px;\r\n  left: 75px;\r\n}\r\n\r\n.pig15 {\r\n  top: -90px;\r\n  left: 200px;\r\n}\r\n\r\n.rotate30 {\r\n  -ms-transform: rotate(30deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(30deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(30deg);\t\t/* Opera */\r\n  -moz-transform: rotate(30deg);\t\t/* Firefox */\r\n  transform: rotate(30deg);\r\n}\r\n\r\n.rotate60 {\r\n  -ms-transform: rotate(60deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(60deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(60deg);\t\t/* Opera */\r\n  -moz-transform: rotate(60deg);\t\t/* Firefox */\r\n  transform: rotate(60deg);\r\n}\r\n\r\n.rotate90 {\r\n  -ms-transform: rotate(90deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(90deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(90deg);\t\t/* Opera */\r\n  -moz-transform: rotate(90deg);\t\t/* Firefox */\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.rotate120 {\r\n  -ms-transform: rotate(120deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(120deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(120deg);\t\t/* Opera */\r\n  -moz-transform: rotate(120deg);\t\t/* Firefox */\r\n  transform: rotate(120deg);\r\n}\r\n\r\n.rotate150 {\r\n  -ms-transform: rotate(150deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(150deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(150deg);\t\t/* Opera */\r\n  -moz-transform: rotate(150deg);\t\t/* Firefox */\r\n  transform: rotate(150deg);\r\n}\r\n\r\n.rotate180 {\r\n  -ms-transform: rotate(180deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(180deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(180deg);\t\t/* Opera */\r\n  -moz-transform: rotate(180deg);\t\t/* Firefox */\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.rotate210 {\r\n  -ms-transform: rotate(210deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(210deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(210deg);\t\t/* Opera */\r\n  -moz-transform: rotate(210deg);\t\t/* Firefox */\r\n  transform: rotate(210deg);\r\n}\r\n\r\n.rotate240 {\r\n  -ms-transform: rotate(240deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(240deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(240deg);\t\t/* Opera */\r\n  -moz-transform: rotate(240deg);\t\t/* Firefox */\r\n  transform: rotate(240deg);\r\n}\r\n\r\n.rotate270 {\r\n  -ms-transform: rotate(270deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(270deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(270deg);\t\t/* Opera */\r\n  -moz-transform: rotate(270deg);\t\t/* Firefox */\r\n  transform: rotate(270deg);\r\n}\r\n\r\n.rotate300 {\r\n  -ms-transform: rotate(300deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(300deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(300deg);\t\t/* Opera */\r\n  -moz-transform: rotate(300deg);\t\t/* Firefox */\r\n  transform: rotate(300deg);\r\n}\r\n\r\n.rotate330 {\r\n  -ms-transform: rotate(330deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(330deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(330deg);\t\t/* Opera */\r\n  -moz-transform: rotate(330deg);\t\t/* Firefox */\r\n  transform: rotate(330deg);\r\n}\r\n\r\n.rotater80 {\r\n  -ms-transform: rotate(-80deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(-80deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(-80deg);\t\t/* Opera */\r\n  -moz-transform: rotate(-80deg);\t\t/* Firefox */\r\n  transform: rotate(-80deg);\r\n}\r\n\r\n.rotate130 {\r\n  -ms-transform: rotate(130deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(130deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(130deg);\t\t/* Opera */\r\n  -moz-transform: rotate(130deg);\t\t/* Firefox */\r\n  transform: rotate(130deg);\r\n}\r\n\r\n.rotate260 {\r\n  -ms-transform: rotate(220deg);\t\t/* IE 9 */\r\n  -webkit-transform: rotate(220deg);\t/* Safari and Chrome */\r\n  -o-transform: rotate(220deg);\t\t/* Opera */\r\n  -moz-transform: rotate(220deg);\t\t/* Firefox */\r\n  transform: rotate(220deg);\r\n}",""])},function(t,e){const n=3;customElements.define("shade-canvas",class extends HTMLElement{static get observedAttributes(){return["color","brushSize","width","height"]}get template(){return`\n      <style>\n        ${this.styleText}\n      </style>\n\n      <div class="canvasContainer">\n        <canvas width='${this.width}' height='${this.height}'>\n          please update your brosewr!\n        </canvas>\n      </div>\n    `}get styleText(){return"\n    "}constructor(){super(),this.width=0,this.height=0,this.styleNode=void 0,this.canvasNode=void 0,this.context=void 0,this.fadeCountDown=0,this.canDraw=!1,this.preMousePosition=void 0,this.mousedown=(t=>{const{layerX:e,layerY:n}=t;this.preMousePosition=[e,n],this.canDraw=!0}),this.mousemove=(t=>{const{layerX:e,layerY:n}=t;!0===this.canDraw&&(this.colorFade(),this.paint(e,n),this.preMousePosition=[e,n])}),this.mouseup=(()=>{this.mouseleave()}),this.mouseleave=(()=>{this.fadeCountDown=0,this.canDraw=!1,this.dispatchResetEvent()}),this.attachShadow({mode:"open"}).innerHTML=this.template,this.initNodes()}connectedCallback(){this.addEvents()}disconnectedCallback(){this.removeEvents()}attributeChangedCallback(t,e,n){switch(t){case"color":this.updateColor(n);break;case"brushSize":this.updateBrushSize(n);break;case"width":this.resizeWidth(n);break;case"height":this.resizeHeight(n)}}updateColor(t){this.context.fillStyle=t}updateBrushSize(t){}resizeWidth(t){const e=parseInt(t);!isNaN(e)&&e>=0&&(this.width=e,this.resizeCanvas())}resizeHeight(t){const e=parseInt(t);!isNaN(e)&&e>=0&&(this.height=e,this.resizeCanvas())}resizeCanvas(){window.requestAnimationFrame(()=>{this.canvasNode.width=this.width+"px",this.canvasNode.height=this.height,this.canvasNode.setAttribute("width",this.width),this.canvasNode.setAttribute("height",this.height)})}initNodes(){const t=this.shadowRoot;this.styleNode=t.querySelector("style"),this.canvasNode=t.querySelector("canvas"),this.context=this.canvasNode.getContext("2d")}addEvents(){this.canvasNode.addEventListener("mousedown",this.mousedown,!1),this.canvasNode.addEventListener("mousemove",this.mousemove,!1),this.canvasNode.addEventListener("mouseup",this.mouseup,!1),this.canvasNode.addEventListener("mouseleave",this.mouseleave,!1)}removeEvents(){this.canvasNode.removeEventListener("mousedown",this.mousedown,!1),this.canvasNode.removeEventListener("mousemove",this.mousemove,!1),this.canvasNode.removeEventListener("mouseup",this.mouseup,!1),this.canvasNode.removeEventListener("mouseleave",this.mouseleave,!1)}colorFade(){this.fadeCountDown+=1,this.fadeCountDown%n==0&&this.dispatchFadeEvent()}dispatchFadeEvent(){const t=new CustomEvent("fade",{bubbles:!0,cancelable:!0,composed:!0});this.shadowRoot.dispatchEvent(t)}dispatchResetEvent(){const t=new CustomEvent("reset",{bubbles:!0,cancelable:!0,composed:!0});this.shadowRoot.dispatchEvent(t)}paint(t,e){const n=this.preMousePosition[0]-t,r=this.getLineFunctionForX(t,e,this.preMousePosition[0],this.preMousePosition[1]),i=Math.min(t,this.preMousePosition[0]);for(let t=0;t<=Math.abs(n);t+=1){const e=i+t,n=r(e);this.paintCircle(e,n,40)}}getLineFunctionForX(t,e,n,r){const i=(r-e)/(n-t);return n=>i*n+(e-i*t)}paintCircle(t,e,n){this.context.beginPath(),this.context.arc(t-150,e-50,n,0,2*Math.PI,!1),this.context.fill(),this.context.closePath()}})},function(t,e){const n=5,r=10;customElements.define("simple-pigment",class extends HTMLElement{static get observedAttributes(){return["color","surplus"]}constructor(){super(),this.color="gray",this.surplus=n,this.styleNode=void 0,this.imageNode=void 0,this.click=(()=>{this.surplus-=1,this.squeezePigment()}),this.squeezePigment=(()=>{switch(this.surplus){case 5:this.updateStyle();case 4:this.updateStyle();case 3:case 2:case 1:this.squeezeAnimation(),this.dispatchSqueezeEvent();break;case 0:this.dispatchSqueezeEvent(),this.dispatchUseupEvent()}}),this.attachShadow({mode:"open"}).innerHTML=this.template,this.initNodes()}connectedCallback(){this.attachEvents()}disconnectedCallback(){this.removeEvents()}attributeChangedCallback(t,e,n){switch(t){case"color":this.updateColor(n);break;case"surplus":this.updateSurplus(n)}}initNodes(){const t=this.shadowRoot;this.styleNode=t.querySelectorAll("style")[1],this.imageNode=t.querySelector("img")}attachEvents(){this.shadowRoot.addEventListener("click",this.click,!1)}removeEvents(){this.shadowRoot.removeEventListener("click",this.click,!1)}squeezeAnimation(){this.imageNode.setAttribute("src",`./src/image/pigment/pigment${this.surplus}.png`)}dispatchSqueezeEvent(){const t=new CustomEvent("squeeze",{detail:{color:this.color,quantity:r},bubbles:!0,cancelable:!0,composed:!0});this.shadowRoot.dispatchEvent(t)}dispatchUseupEvent(){const t=new CustomEvent("useup",{bubbles:!0,cancelable:!0,composed:!0});this.shadowRoot.dispatchEvent(t)}updateColor(t){this.color=t,this.imageNode.setAttribute("alt",`${this.color} pigment`),this.updateStyle()}updateSurplus(t){const e=parseInt(t);!isNaN(e)&&e>=0&&e<=n&&(this.surplus=e,this.squeezePigment())}updateStyle(){this.styleNode.textContent=this.styleText}get template(){return`\n      <style>\n        .pigmentContainer {\n          font-size: 0;\n          -webkit-user-select:none;\n          -moz-user-select:none;\n          -ms-user-select:none;\n          user-select:none;\n        }\n\n        .pigmentColorLayer {\n          position: absolute;\n          top: 0;\n          left: 0;\n          bottom: 0;\n          right: 0;\n        }\n      </style>\n\n      <style>\n        ${this.styleText}\n      </style>\n\n      <div class='pigmentContainer'>\n        <img src="./src/image/pigment/pigment5.png" alt="pigment">\n        <div class="pigmentColorLayer"></div>\n      </div>\n    `}get styleText(){return`\n      .pigmentColorLayer {\n        background: ${this.color};\n        mask-image: url('/src/image/pigment/pigment_mask_${this.surplus===n?"full":"using"}.png');\n      }\n    `}})},function(t,e){customElements.define("simple-planet",class extends HTMLElement{static get observedAttributes(){return["planetangle","pointerangle","autorotation"]}constructor(){super(),this.styleNode=void 0,this.planetNode=void 0,this.planetAngle=0,this.pointerAngle=0,this.rotateDuration=0,this.prevRotateDuration=this.rotateDuration,this.attachShadow({mode:"open"}).innerHTML=this.template,this.initNodes()}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(t,e,n){switch(t){case"planetangle":this.rotatePlanet(n);break;case"pointerangle":this.rotatePointer(n);break;case"autorotation":this.autoRotation(n)}}initNodes(){const t=this.shadowRoot;this.styleNode=t.querySelectorAll("style")[1],this.planetNode=t.querySelector(".planet")}rotatePlanet(t){const e=parseInt(t);this.isValidAngle(e)&&(this.planetAngle=e,this.updateStyle())}rotatePointer(t){const e=parseInt(t);this.isValidAngle(e)&&(this.pointerAngle=e,this.updateStyle())}isValidAngle(t){return!isNaN(t)&&t<=360&&t>=0}autoRotation(t){const e=parseFloat(t);this.isValidDuration(e)&&(this.rotateDuration=e,0!==e&&(this.prevRotateDuration=this.rotateDuration),this.updateStyle())}isValidDuration(t){return!isNaN(t)}updateStyle(){this.styleNode.textContent=this.styleText}get template(){return`\n      <style>\n        .planet {\n          position: relative;\n          -webkit-user-select:none;\n          -moz-user-select:none;\n          -ms-user-select:none;\n          user-select:none;\n          animation: autororations infinite linear;\n        }\n\n        .pigmentsContainer {\n          position: absolute;\n          top: 300px;\n          left: 215px;\n        }\n\n        .pointerContainer {\n          position: absolute;\n          left: calc(50% - 200px);\n          top: calc(50% - 200px);\n          transition: transform 0.6s ease;\n        }\n\n        @keyframes autororations\n        {\n          0% {\n            transform: rotate(0deg);\n          }\n\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n\n        @-moz-keyframes autororations\n        {\n          0% {\n            transform: rotate(0deg);\n          }\n\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n\n        @-webkit-keyframes autororations\n        {\n          0% {\n            transform: rotate(0deg);\n          }\n\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n      </style>\n\n      <style>\n        ${this.styleText}\n      </style>\n\n      <div class="planetWrapper">\n        <div class="planet autororation">\n          <img src="./src/image/planet/planet.png" alt="planet">\n          <div class="pointerContainer">\n            <img src="./src/image/planet/pointer.png" alt="pointer">\n          </div>\n          <div class="pigmentsContainer">\n            <slot name="pigments"></slot>\n          </div>\n        </div>\n      </div>\n    `}get styleText(){return`\n      .planetWrapper {\n        transform: rotate(${this.planetAngle}deg);\n        -ms-transform: rotate(${this.planetAngle}deg);\n        -webkit-transform: rotate(${this.planetAngle}deg);\n        -o-transform: rotate(${this.planetAngle}deg);\n        -moz-transform: rotate(${this.planetAngle}deg);\n      }\n\n      .pointerContainer {\n        transform: rotate(${this.pointerAngle}deg);\n        -ms-transform: rotate(${this.pointerAngle}deg);\n        -webkit-transform: rotate(${this.pointerAngle}deg);\n        -o-transform: rotate(${this.pointerAngle}deg);\n        -moz-transform: rotate(${this.pointerAngle}deg);\n      }\n\n      .autororation {\n        animation-duration: ${this.prevRotateDuration}s;\n        animation-play-state: ${0===this.rotateDuration?"paused":"running"};\n      }\n    `}})},function(t,e){const n={default:"none",stand:"stand",walk:"walk"};customElements.define("simple-prince",class extends HTMLElement{static get observedAttributes(){return["state"]}constructor(){super(),this.styleNode=void 0,this.state=n.default,this.attachShadow({mode:"open"}).innerHTML=this.template,this.initNodes()}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(t,e,n){switch(t){case"state":this.setState(n)}}setState(t){switch(t){case"stand":this.state=n.stand;break;case"walk":this.state=n.walk;break;default:this.state=n.default}this.updateStyle()}initNodes(){const t=this.shadowRoot;this.styleNode=t.querySelectorAll("style")[1]}updateStyle(){this.styleNode.textContent=this.styleText}get template(){return`\n      <style>\n        .prince {\n          width: 210px;\n          height: 280px;\n        }\n\n        @keyframes prince_stand_animation\n        {\n          0% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_1.png');\n          }\n\n          25% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_2.png');\n          }\n\n          50% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_3.png');\n          }\n\n          75% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_4.png');\n          }\n\n          100% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_5.png');\n          }\n        }\n\n        @-moz-keyframes prince_stand_animation\n        {\n          0% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_1.png');\n          }\n\n          25% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_2.png');\n          }\n\n          50% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_3.png');\n          }\n\n          75% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_4.png');\n          }\n\n          100% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_5.png');\n          }\n        }\n\n        @-webkit-keyframes prince_stand_animation\n        {\n          0% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_1.png');\n          }\n\n          25% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_2.png');\n          }\n\n          50% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_3.png');\n          }\n\n          75% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_4.png');\n          }\n\n          100% {\n            background-image: url('./src/image/prince_stand_animation/prince_stand_5.png');\n          }\n        }\n\n        @keyframes prince_walk_animation\n        {\n          0% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_1.png');\n          }\n\n          33% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_2.png');\n          }\n\n          67% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_3.png');\n          }\n\n          100% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_4.png');\n          }\n        }\n\n        @-moz-keyframes prince_walk_animation\n        {\n          0% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_1.png');\n          }\n\n          33% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_2.png');\n          }\n\n          67% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_3.png');\n          }\n\n          100% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_4.png');\n          }\n        }\n\n        @-webkit-keyframes prince_walk_animation\n        {\n          0% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_1.png');\n          }\n\n          33% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_2.png');\n          }\n\n          67% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_3.png');\n          }\n\n          100% {\n            background-image: url('./src/image/prince_walk_animation/prince_walk_4.png');\n          }\n        }\n      </style>\n\n      <style>\n        ${this.styleText}\n      </style>\n\n      <div class="prince"></div>\n    `}get styleText(){return`\n      .prince {\n        background: no-repeat;\n        animation: prince_${this.state}_animation 1s infinite linear;\n      }\n    `}})},function(t,e){const n=100,r=0,i=150,s=150,o=150,a=300,h=300;customElements.define("simple-moon",class extends HTMLElement{static get observedAttributes(){return["phase","color"]}constructor(){super(),this.isMuskReversed=-1,this.prevPhase=0,this.currPhase=0,this.animationSequence=[],this.isAnimationRunning=!1,this.styleNode=void 0,this.moonCtx=void 0,this.shaderMuskCtx=void 0,this.moonDividesCtx=void 0,this.attachShadow({mode:"open"}).innerHTML=this.template,this.initNodes()}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(t,e,n){switch(t){case"phase":this.updatePhase(n);break;case"color":this.updateColor(n)}}initNodes(){const t=this.shadowRoot;this.styleNode=t.querySelectorAll("style")[1];const e=t.querySelectorAll("canvas");this.moonCtx=e[0].getContext("2d"),this.shaderMuskCtx=e[1].getContext("2d"),this.shaderMuskCtx.fillStyle="rgb(5, 5, 5)",this.moonDividesCtx=e[2].getContext("2d")}updatePhase(t){const e=parseFloat(t);!0===this.isValidPhase(e)&&(this.prevPhase=this.currPhase,this.currPhase=e,this.moonAnimation())}isValidPhase(t){return!isNaN(t)&&t<=n&&t>=r}moonAnimation(){const t=Math.abs(this.prevPhase-this.currPhase),e=(this.currPhase-this.prevPhase)/t;for(let n=0;n<t;n+=1){const t=this.prevPhase+n*e,r=this.calcMoonMuskXFromPhase(t),i=this.calcMoonMuskReverseFromPhase(t);this.animationSequence.push([i,r])}!1===this.isAnimationRunning&&(this.isAnimationRunning=!0,this.activeAnimationLoop(25))}calcMoonMuskXFromPhase(t){const e=2*i;return e-2*e/100*(t<=50?t:100-t)}calcMoonMuskReverseFromPhase(t){return t<=50?-1:1}activeAnimationLoop(t){if(0===this.animationSequence.length)return void(this.isAnimationRunning=!1);const[e,n]=this.animationSequence.shift();this.updateMuskReverseState(e),this.draw(n),setTimeout(()=>{this.activeAnimationLoop(t)},t)}updateMuskReverseState(t){t!==this.isMuskReversed&&(this.isMuskReversed=t,this.updateStyle())}draw(t){const e=this.getMoonMuskFromX(t);this.drawShaderMusk(t,e),this.drawShaderDivides(t,e)}getMoonMuskFromX(t){const e=(s**2+i**2-t**2)/(2*s-2*t),n=Math.abs(e-t),r=Math.asin(i/n);return{centerPointXOfMusk:e,radiusOfMusk:n,startAngle:Math.PI-r,endAngle:Math.PI+r}}drawShaderMusk(t,{centerPointXOfMusk:e,radiusOfMusk:n,startAngle:r,endAngle:c}){this.shaderMuskCtx.clearRect(0,0,a,h),this.shaderMuskCtx.beginPath(),this.shaderMuskCtx.arc(e,o,n,r,c,t>=s),this.shaderMuskCtx.arc(s,o,i+2,1.5*Math.PI,.5*Math.PI,!1),this.shaderMuskCtx.fill()}drawShaderDivides(t,{centerPointXOfMusk:e,radiusOfMusk:n}){if(!isFinite(n))return;let r=null;t<150?((r=this.moonDividesCtx.createRadialGradient(e,o,n,e,o,n+25)).addColorStop(0,"black"),r.addColorStop(1,"transparent")):((r=this.moonDividesCtx.createRadialGradient(e,o,n-25,e,o,n)).addColorStop(0,"transparent"),r.addColorStop(1,"rgb(5, 5, 5)")),this.moonDividesCtx.clearRect(0,0,a,h),this.moonDividesCtx.fillStyle=r,this.moonDividesCtx.fillRect(0,0,a,h)}drawMoon(){this.moonCtx.clearRect(0,0,a,h),this.moonCtx.beginPath(),this.moonCtx.arc(s,o,i,0,2*Math.PI),this.moonCtx.closePath(),this.moonCtx.fill()}updateColor(t){this.moonCtx.fillStyle=t,this.drawMoon()}updateStyle(){this.styleNode.textContent=this.styleText}get template(){return`\n      <style>\n        .moonContainer {\n          position: relative;\n          font-size: 0;\n          background-color: rgb(5, 5, 5);\n        }\n\n        .moonContainer canvas {\n          position: absolute;\n          left: 0;\n          top: 0;\n          width: ${a}px;\n          height: ${h}px;\n        }\n\n        .moonContainer img {\n          opacity: 0.85;\n        }\n      </style>\n\n      <style>\n        ${this.styleText}\n      </style>\n\n      <div class='moonContainer'>\n        <canvas width="${a}" height="${h}" class="moonCanvas"></canvas>\n        <img src="./src/image/moon/moonTexture.png" alt="moonTexture">\n        <canvas width="${a}" height="${h}" class="moonShaderMusk"></canvas>\n        <canvas width="${a}" height="${h}" class="moonDivides"></canvas>\n      </div>\n    `}get styleText(){return`\n      .moonCanvas {\n        -moz-transform:scaleX(${-this.isMuskReversed});\n        -webkit-transform:scaleX(${-this.isMuskReversed});\n        -o-transform:scaleX(${-this.isMuskReversed});\n        transform:scaleX(${-this.isMuskReversed});\n      }\n\n      .moonShaderMusk {\n        -moz-transform:scaleX(${-this.isMuskReversed});\n        -webkit-transform:scaleX(${-this.isMuskReversed});\n        -o-transform:scaleX(${-this.isMuskReversed});\n        transform:scaleX(${-this.isMuskReversed});\n      }\n\n      .moonDivides {\n        -moz-transform:scaleX(${-this.isMuskReversed});\n        -webkit-transform:scaleX(${-this.isMuskReversed});\n        -o-transform:scaleX(${-this.isMuskReversed});\n        transform:scaleX(${-this.isMuskReversed});\n      }\n    `}})},function(t,e){const n=2,r=0;customElements.define("simple-star",class extends HTMLElement{static get observedAttributes(){return["luminance"]}constructor(){super(),this.luminance=2,this.twinkleDir=-1,this.imageNode=void 0,this.twinkle=(()=>{this.luminance=this.luminance+this.twinkleDir,this.dispatchTwinkleEvent(),this.updateTwinkleDir(),this.updateImage()}),this.attachShadow({mode:"open"}).innerHTML=this.template,this.initNodes()}connectedCallback(){this.addEvents()}disconnectedCallback(){this.removeEvents()}attributeChangedCallback(t,e,n){switch(t){case"luminance":this.updateLuminance(n)}}initNodes(){const t=this.shadowRoot;this.imageNode=t.querySelector("img")}addEvents(){this.imageNode.addEventListener("click",this.twinkle,!1)}removeEvents(){this.imageNode.removeEventListener("click",this.twinkle,!1)}updateTwinkleDir(){0===this.luminance?this.twinkleDir=1:2===this.luminance&&(this.twinkleDir=-1)}dispatchTwinkleEvent(){const t=new CustomEvent("twinkle",{detail:{value:this.twinkleDir},bubbles:!0,cancelable:!0,composed:!0});this.shadowRoot.dispatchEvent(t)}updateLuminance(t){const e=parseInt(t);!0===this.isValidLuminance(e)&&(this.luminance=e,this.dispatchTwinkleEvent(),this.updateTwinkleDir(),this.updateImage())}isValidLuminance(t){return!isNaN(t)&&t<=n&&t>=r}updateImage(){this.imageNode.setAttribute("src",`./src/image/star_animation/star_${this.luminance}.png`)}get template(){return`\n      <style>\n        .moonContainer {\n          font-size: 0;\n        }\n\n        .moonContainer::after {\n          content: '';\n          position: absolute;\n          left:0px;\n          right: 0px;        \n          bottom: 143px;\n          width: 1px;\n          height: 100vh;\n          margin: auto;\n          background-color: rgba(255, 255, 255, 0.45);\n        }\n      </style>\n\n      <style>\n        ${this.styleText}\n      </style>\n\n      <div class='moonContainer'>\n        <img src="./src/image/star_animation/star_2.png" alt="star">\n      </div>\n    `}get styleText(){return"\n    "}})},function(t,e){customElements.define("simple-sky",class extends HTMLElement{static get observedAttributes(){return["move","speedX","speedY","width","height","amount"]}constructor(){super(),this.styleNode=void 0,this.skyContainer=void 0,this.skyCvs=void 0,this.skyCtx=void 0,this.width=0,this.height=0,this.amount=0,this.speedX=2,this.speedY=1,this.skyMoveHandler=null,this.skyMove=((t=this.skyCtx.getImageData(0,0,this.width,this.height))=>{requestAnimationFrame(()=>{this.skyCtx.putImageData(t,4,2)});const e=this.addStars(4,2);this.skyMoveHandler=setTimeout(()=>{this.skyMove(e)},20)}),this.attachShadow({mode:"open"}).innerHTML=this.template,this.initNodes()}connectedCallback(){this.attachEvents()}disconnectedCallback(){this.removeEvents()}attributeChangedCallback(t,e,n){switch(t){case"move":this.changeMoveState(n);break;case"speedX":this.changeSpeedX(n);break;case"speedY":this.changeSpeedY(n);break;case"width":this.changeWidth(n);break;case"height":this.changeHeight(n);break;case"amount":this.changeAmount(n)}}initNodes(){const t=this.shadowRoot;this.styleNode=t.querySelectorAll("style")[1],this.skyContainer=t.querySelector(".skyContainer"),this.skyCvs=t.querySelector(".skyCanvas"),this.skyCtx=this.skyCvs.getContext("2d")}attachEvents(){this.shadowRoot}removeEvents(){this.shadowRoot}changeMoveState(t){"true"===t?null===this.skyMoveHandler&&this.skyMove():null!==this.skyMoveHandler&&(clearInterval(this.skyMoveHandler),this.skyMoveHandler=null)}changeSpeedX(t){const e=parseInt(t);!0===this.isValidSize(e)&&(this.speedX=e)}changeSpeedY(t){const e=parseInt(t);!0===this.isValidSize(e)&&(this.speedY=e)}changeWidth(t){const e=parseInt(t);!0===this.isValidSize(e)&&(this.width=e,this.skyCvs.width=e,this.initSky())}changeHeight(t){const e=parseInt(t);!0===this.isValidSize(e)&&(this.height=e,this.skyCvs.height=e,this.initSky())}changeAmount(t){const e=parseInt(t);!0===this.isValidSize(e)&&(this.amount=e,this.initSky())}isValidSize(t){return!isNaN(t)}initSky(){const{width:t,height:e,amount:n}=this;if(0===t||0===e||0===n)return;const r=this.skyCtx.getImageData(0,0,t,e);for(let i=0;i<n;i+=1){const n=Math.random()*t,i=Math.random()*e;this.drawStar(r,Math.round(n),Math.round(i))}this.skyCtx.putImageData(r,0,0)}addStars(t=0,e=0){const{width:n,height:r}=this,i=this.skyCtx.getImageData(0,0,n,r),s=t/(t+e);if(Math.random()>s){const t=Math.random()*n,r=Math.random()*e;this.drawStar(i,Math.round(t),Math.round(r))}else{const e=Math.random()*t,n=Math.random()*r;this.drawStar(i,Math.round(e),Math.round(n))}return i}drawStar(t,e,n){const{width:r,data:i}=t,s=4*Math.floor(n*r+e);i[s]=255,i[s+1]=255,i[s+2]=255,i[s+3]=510*Math.random()}updateStyle(){this.styleNode.textContent=this.styleText}get template(){return`\n      <style>\n      </style>\n\n      <style>\n        ${this.styleText}\n      </style>\n\n      <div class='skyContainer'>\n        <canvas class="skyCanvas"></canvas>\n      </div>\n    `}get styleText(){return"\n    "}})},function(t,e,n){"use strict";n.r(e);var r;n(3),n(8),n(10),n(12),n(13),n(14),n(15),n(16),n(17),n(18);class i{rgbToHex(t=0,e=0,n=0){return t=this._limitValueBetween(t,255,0),e=this._limitValueBetween(e,255,0),n=this._limitValueBetween(n,255,0),"#"+this._componentToHex(t)+this._componentToHex(e)+this._componentToHex(n)}_componentToHex(t){const e=t.toString(16);return 1===e.length?"0"+e:e}hexToRgb(t="#000000"){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return this._getRgbFromSplittedHex(e)}_getRgbFromSplittedHex(t){return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}}rgbToHsv(t=0,e=0,n=0){t=this._limitValueBetween(t,255,0),e=this._limitValueBetween(e,255,0),n=this._limitValueBetween(n,255,0);const r=Math.max(t,e,n),i=Math.min(t,e,n),s=r/255*100,o=0===r?0:100*(1-i/r),a=this._getHValue(t,e,n,i,r);return{h:Math.floor(a),s:Math.floor(o),v:Math.floor(s)}}_getHValue(t,e,n,r,i){const s=i-r==0?0:1/(i-r);switch(i){case t:return 60*(e-n)*s+(e>=n?0:360);case e:return 60*(n-t)*s+120;case n:return 60*(t-e)*s+240;default:return 0}}hsvToRgb(t=0,e=0,n=0){t=this._limitValueBetween(t,360,0),e=this._limitValueBetween(e,100,0)/100,n=this._limitValueBetween(n,100,0)/100;const r=Math.floor(t/60),i=t/60-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e);let h,c,d;switch(r%6){case 0:h=n,c=a,d=s;break;case 1:h=o,c=n,d=s;break;case 2:h=s,c=n,d=a;break;case 3:h=s,c=o,d=n;break;case 4:h=a,c=s,d=n;break;case 5:h=n,c=s,d=o}return{r:Math.round(255*h),g:Math.round(255*c),b:Math.round(255*d)}}_limitValueBetween(t,e,n){return t>e?e:t<n?n:t}}function s(t){const e=new Set;t.prototype.register=function(t){e.add(t)},t.prototype.unRegister=function(t){e.delete(t)},t.prototype.notify=function(){e.forEach(t=>{t.update()})}}let o=s(r=class{constructor(t=0,e=0,n=0,r){this.rgb={r:0,g:0,b:0},this.hsv=void 0,this.quantity=0,this.colorConverter=void 0,this.colorConverter=new i,this._mixColor(t,e,n,r)}getRgb(){return this.rgb}getHsv(){return this.hsv}getQuantity(){return this.quantity}addRed(t){this._mixColor(255,0,0,t)}addOrange(t){this._mixColor(255,127,0,t)}addYellow(t){this._mixColor(255,255,0,t)}addChartreuse(t){this._mixColor(127,255,0,t)}addGreen(t){this._mixColor(0,255,0,t)}addSpringgreen(t){this._mixColor(0,255,127,t)}addCyan(t){this._mixColor(0,255,255,t)}addIndigo(t){this._mixColor(0,127,255,t)}addBlue(t){this._mixColor(0,0,255,t)}addPurple(t){this._mixColor(127,0,255,t)}addFuchsia(t){this._mixColor(255,0,255,t)}addPurplishRed(t){this._mixColor(255,0,127,t)}addWhite(t){this._mixColor(255,255,255,t)}addBlack(t){this._mixColor(0,0,0,t)}_mixColor(t,e,n,r=0){this._updateRgb(t,e,n,r),this._updateHsv(),this._updateQuantity(r),console.log(`update rgb mixer to r: ${this.rgb.r}, g: ${this.rgb.g}, b: ${this.rgb.b}`),this.notify()}_updateRgb(t,e,n,r){const i=this.quantity,s=i+r===0?0:1/(i+r);this.rgb={r:Math.round((this.rgb.r*i+t*r)*s),g:Math.round((this.rgb.g*i+e*r)*s),b:Math.round((this.rgb.b*i+n*r)*s)}}_updateHsv(){this.hsv=this.colorConverter.rgbToHsv(this.rgb.r,this.rgb.g,this.rgb.b)}_updateQuantity(t){this.quantity+=t}})||r;var a;let h=s(a=class{constructor(t){this.rgb=void 0,this.hsv=void 0,this.currentHsv=void 0,this.mixer=void 0,this.saturationAmplify=0,this.brightnessAmplify=0,this.colorConverter=void 0,this.colorConverter=new i,this.mixer=t,this.mixer.register(this),this.update()}getRgb(){return this.rgb}getHsv(){return this.currentHsv}update(){this.hsv=this.mixer.getHsv(),this._mixColor()}setSaturationAmplify(t){this.saturationAmplify+=Math.round(t),this._mixColor()}resetSaturationAmplify(){this.saturationAmplify=0,this._mixColor()}setBrightnessAmplify(t){this.brightnessAmplify+=Math.round(t),this._mixColor()}resetBrightnessAmplify(){this.brightnessAmplify=0,this._mixColor()}_mixColor(){this._updateHsv(),this._updateRgb(),console.log(`update hsv filter to h: ${this.hsv.h}, s: ${this.hsv.s}, v: ${this.hsv.v}`),this.notify()}_updateHsv(){const t=this.hsv.h,e=this._limitValueBetween(this.hsv.s+this.saturationAmplify,100,0),n=this._limitValueBetween(this.hsv.v+this.brightnessAmplify,100,0);this.currentHsv={h:t,s:e,v:n}}_updateRgb(){this.rgb=this.colorConverter.hsvToRgb(this.currentHsv.h,this.currentHsv.s,this.currentHsv.v)}_limitValueBetween(t,e,n){return t>e?e:t<n?n:t}})||a;const c=document.getElementById("shadeCanvas"),d=document.getElementById("draftBookOpen"),l=document.getElementById("draftBookClose"),u=document.getElementById("littlePrince"),p=document.getElementById("moon"),m=document.getElementById("stars"),g=document.getElementById("sky"),f=new o(0,0,0,0),v=new h(f);new class{constructor(t,e){this.mixer=void 0,this.planet=void 0,this.prince=void 0,this.component=void 0,this.isPrinceRunning=!1,this.addColor=(t=>{let{color:e,quantity:n}=t.detail;t.stopPropagation(),console.log("little prince event, color squeeze");try{"#ff007f"===e&&(e="purplishRed"),this.mixer[`add${function(t){const e=t.split("");return e[0]=e[0].toUpperCase(),e.join("")}(e)}`](n)}catch(t){console.log(t)}}),this.useup=(t=>{t.stopPropagation(),console.log("little prince event, color useup"),t.target.setAttribute("surplus",5)}),this.clickPrince=(()=>{this.isPrinceRunning=!this.isPrinceRunning,this.dispatchRunningEvent(),this.updateAnimation()}),this.mixer=t,this.component=e,this.initNode(),this.addEvents(),this.mixer.register(this),this.update()}initNode(){this.prince=this.component.querySelector("simple-prince"),this.planet=this.component.querySelector("simple-planet")}addEvents(){this.component.addEventListener("squeeze",this.addColor,!1),this.component.addEventListener("useup",this.useup,!1),this.prince.addEventListener("click",this.clickPrince,!1)}dispatchRunningEvent(){const t=new CustomEvent("running",{detail:{state:this.isPrinceRunning},bubbles:!0,cancelable:!0,composed:!0});this.component.dispatchEvent(t)}updateAnimation(){!0===this.isPrinceRunning?(this.prince.setAttribute("state","walk"),this.planet.setAttribute("autorotation","8")):(this.prince.setAttribute("state","stand"),this.planet.setAttribute("autorotation","0"))}update(){this.updatePlanetPointerAngle()}updatePlanetPointerAngle(){const{h:t}=this.mixer.getHsv();this.planet.setAttribute("pointerangle",t)}}(f,u),new class{constructor(t,e){this.mixer=void 0,this.moon=void 0,this.component=void 0,this.phase=0,this.mixer=t,this.component=e,this.initNode(e),this.mixer.register(this)}initNode(t){this.moon=t.querySelector("simple-moon")}update(){this.updateColor(),this.updatePhase()}updateColor(){const{r:t,g:e,b:n}=this.mixer.getRgb();this.moon.setAttribute("color",`rgb(${t}, ${e}, ${n})`)}updatePhase(){const{h:t}=this.mixer.getHsv();this.moon.setAttribute("phase",100*t/360)}}(v,p),new class{constructor(t,e){this.filter=void 0,this.component=void 0,this.twinkle=(t=>{const{value:e}=t.detail;t.stopPropagation(),console.log("star event, color brightness"),console.log(e),this.filter.setBrightnessAmplify(10*e)}),this.filter=t,this.component=e,this.addEvents()}addEvents(){this.component.addEventListener("twinkle",this.twinkle,!1)}removeEvents(){this.component.removeEventListener("twinkle",this.twinkle,!1)}}(v,m),new class{constructor(t,e){this.prince=void 0,this.component=void 0,this.sky=void 0,this.updateSky=(t=>{const{state:e}=t.detail;this.sky.setAttribute("move",e)}),this.updateSize=(()=>{const{innerWidth:t,innerHeight:e}=window;this.sky.setAttribute("width",t),this.sky.setAttribute("height",e)}),this.prince=t,this.component=e,this.initNode(e),this.addEvents(),this.updateSize()}initNode(t){this.sky=t.querySelector("simple-sky")}addEvents(){this.prince.addEventListener("running",this.updateSky),window.addEventListener("resize",this.updateSize)}removeEvents(){this.prince.removeEventListener("running",this.updateSky),window.removeEventListener("resize",this.updateSize)}}(u,g),new class{constructor(t,e,n,r){this.filter=void 0,this.openBtn=void 0,this.closeBtn=void 0,this.component=void 0,this.shadeCanvas=void 0,this.reset=(t=>{t.stopPropagation(),console.log("canvas event, color reset"),this.filter.resetSaturationAmplify()}),this.fade=(t=>{t.stopPropagation(),console.log("canvas event, color fade"),this.filter.setSaturationAmplify(-1)}),this.displayToggle=(()=>{this.component.classList.toggle("invisible")}),this.filter=t,this.component=e,this.openBtn=n,this.closeBtn=r,this.initNode(),this.addEvents(),this.filter.register(this)}initNode(){this.shadeCanvas=this.component.querySelector("shade-canvas")}addEvents(){this.shadeCanvas.addEventListener("reset",this.reset,!1),this.shadeCanvas.addEventListener("fade",this.fade,!1),this.openBtn.addEventListener("click",this.displayToggle,!1),this.closeBtn.addEventListener("click",this.displayToggle,!1)}removeEvents(){this.shadeCanvas.removeEventListener("reset",this.reset,!1),this.shadeCanvas.removeEventListener("fade",this.fade,!1),this.openBtn.removeEventListener("click",this.displayToggle,!1),this.closeBtn.removeEventListener("click",this.displayToggle,!1)}update(){this.updateCanvasFillColor(this.filter.getRgb())}updateCanvasFillColor({r:t,g:e,b:n}){this.shadeCanvas.setAttribute("color",`rgb(${t}, ${e}, ${n})`)}}(v,c,d,l)}]);
//# sourceMappingURL=app.3cc9f05c8db3c6b6b852.js.map